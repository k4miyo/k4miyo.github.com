<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.15.1 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>            Entorno Arch Linux - K4miyo      Ciberseguridad!      </title>
<meta name="description" content="Configuración de entorno de hacking en Arch Linux">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="K4miyo | Ciberseguridad!">
<meta property="og:title" content="Entorno Arch Linux">
<meta property="og:url" content="http://localhost:4000/entorno_arch/">


  <meta property="og:description" content="Configuración de entorno de hacking en Arch Linux">



  <meta property="og:image" content="http://localhost:4000/assets/images/entorno_arch/arch.jpg">





  <meta property="article:published_time" content="2022-04-11T00:00:00-05:00">





  

  


<link rel="canonical" href="http://localhost:4000/entorno_arch/">







  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "K4miyo",
      "url": "http://localhost:4000",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="K4miyo | Ciberseguridad! Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/masthead.png" alt=""></a>
                
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/" >Home</a>
            </li><li class="masthead__menu-item">
              <a href="/year-archive/" >Artículos</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/" >Categorías</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/" >Etiquetas</a>
            </li><li class="masthead__menu-item">
              <a href="/buscador/" >Buscador</a>
            </li><li class="masthead__menu-item">
              <a href="/about/" >Contacto</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>
    

    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="http://localhost:4000/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        <li class="current">Entorno Arch Linux</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="/assets/images/avatar.png" alt="K4miyo" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">K4miyo</h3>
    
    
      <p class="author__bio" itemprop="description">
        Cyber Threat Intelligence Analyst
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      

      

      

      
        <li>
          <a href="https://github.com/k4miyo" itemprop="sameAs" rel="nofollow noopener noreferrer">
            <i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Entorno Arch Linux">
    <meta itemprop="description" content="Configuración de entorno de hacking en Arch Linux">
    <meta itemprop="datePublished" content="April 11, 2022">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Entorno Arch Linux
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p class="page__meta">
          
            <i class="fa fa-fw fa-calendar" aria-hidden="true"></i> <time datetime="2022-04-11T00:00:00-05:00">April 11, 2022 </time>&emsp;
          
          
        </p>
        <p><img src="/assets/images/entorno_arch/banner-arch.jpg" alt="" /></p>

<h1 id="entorno-arch-linux">Entorno Arch Linux</h1>

<p>A continuación se presenta la configuración de un entorno de hacking en <strong>Arch Linux</strong> de acuerdo con el video de <a href="https://www.youtube.com/watch?v=fshLf6u8B-w">YouTube de S4vitar</a>. Primero, comenzaremos con al descarga de la ISO de <a href="https://archlinux.org/download/"><strong>Arch Linux</strong></a>.</p>

<p><img src="/assets/images/entorno_arch/arch1.png" alt="" /></p>

<h2 id="configuración-de-la-máquina-virtual">Configuración de la máquina virtual</h2>

<p>Una vez descargada la ISO, vamos a proceder a crear una máquina vírtual con la herramienta VMware WorkStation en la opción <strong>File &gt; New Virtual Machine…</strong> y de la ventanita seleccionamos las siguientes opciones:</p>

<ul>
  <li>Seleccionamos <em>Typical (recommended)</em></li>
  <li>Seleccionamos <em>Installer disc image file (iso)</em> y colocamos el archivo ISO que descargamos.</li>
  <li>Seleccionamos <em>Linux</em> y de versión <em>Debian 10.x 64 bit</em> (en caso de que nuestra máquina sea de x64).</li>
  <li>Colocamos un nombre que queramos y la ruta donde se guardará nuestra máquina virtual.</li>
  <li>Ahora el tamaño del disco seleccionamos el que nosotros queramos con un mínimo de 20 GB y la opción <em>Store virtual disk as a single file</em>.</li>
  <li>Seleccionamos <em>Customize Hardware…</em> y la parte de <em>Network Adapter</em> ponemos la opción <em>Bridged: Connected directly to the physical network</em>.</li>
  <li>Seleccionamos <em>Memory</em> y le asignamos 4 GB y en <em>¨Processors</em> colocamos 2.</li>
</ul>

<p>Ejecutamos la máquina virutal y seleccionamos <em>Arch Linux install medium (x86_64, BIOS)</em>, la primera opción.</p>

<p><img src="/assets/images/entorno_arch/arch2.png" alt="" /></p>

<p>Al terminar el proceso, nos arroja una linea de comandos como <strong>root</strong> en la cual primero vamos a validar si tenemos conexión a internet con una traza ICMP (<strong>Nota</strong>: El teclado lo tendremos en configuración en-US, por lo que si lo queremos en español utilizaremos el comando <code class="language-plaintext highlighter-rouge">loadkeys es</code>):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@archiso ~ <span class="c"># ping -c 1 8.8.8.8</span>
</code></pre></div></div>

<h2 id="configuracón-de-las-particiones">Configuracón de las particiones</h2>

<p>Ahora escribimos el comando <code class="language-plaintext highlighter-rouge">cfdisk</code> y nos arrojará un panel de opción; como nos encontramos en máquina virtual, seleccioamos <strong>dos</strong>. Nos toca crear las particiones de nuestro sistema, por lo tanto, en la parte de abajo seleccionamos <strong>New</strong> y</p>

<ul>
  <li>La primera partición le asignaremos un espacio de <strong>512M</strong> y seleccionamos <strong>primary</strong>.</li>
  <li>Nos colocamos en <strong>Free space</strong> y la segunda partición le asignaremos un espacio de <strong>15G</strong>  y seleccionamos <strong>primary</strong>.</li>
  <li>Nos colocamos nuevamente en <strong>Free space</strong> y la tercera partición le asignaremos el resto (<strong>4.5G</strong>) y seleccionamos <strong>primary</strong>.</li>
  <li>Ahora si seleccionamos <code class="language-plaintext highlighter-rouge">/dev/sda3</code> (la partición de 4.5G), en la opción de bajo eligimos <strong>Type</strong> y ponemos <strong>82 Linux swap / Solaris</strong></li>
  <li>Por último, del menú de abajo le damos a <strong>Write</strong> y confirmamos y posteriormente le damos a <strong>Quit</strong>.</li>
</ul>

<p>Con el comando <code class="language-plaintext highlighter-rouge">lsblk</code> podemos ver las particiones que hemos creado.</p>

<p><img src="/assets/images/entorno_arch/arch3.png" alt="" /></p>

<p>Ahora vamos a darle formato a las particiones que tenemos con <code class="language-plaintext highlighter-rouge">mkfs.vfat -F 32 /dev/sda1</code> para la partición de 512M, <code class="language-plaintext highlighter-rouge">mkfs.ext4 /dev/sda2</code> para la partición de 15G y <code class="language-plaintext highlighter-rouge">mkswap /dev/sda3</code> para la partición de 4.5G y aplicamos los cambios <code class="language-plaintext highlighter-rouge">swapon</code>.</p>

<p>Posterior a esto, vamos a montar lo que hay en <code class="language-plaintext highlighter-rouge">/dev/sda2</code> en <code class="language-plaintext highlighter-rouge">/mnt</code> con el comando <code class="language-plaintext highlighter-rouge">mount /dev/sda2 /mnt</code>, creamos el directorio <code class="language-plaintext highlighter-rouge">boot</code> con <code class="language-plaintext highlighter-rouge">mkdir /mnt/boot</code> y montamos lo que hay en <code class="language-plaintext highlighter-rouge">/dev/sda1</code> en el directorio que creamos con <code class="language-plaintext highlighter-rouge">mount /dev/sda1 /mnt/boot</code>. Con esto, podemos procede a instalar los paquetes necesarios:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pacstrap /mnt linux linux-firmware networkmanager grub wpa_supplicant base base-devel
</code></pre></div></div>

<p>Esperamos que se instalen lo paquetes que hemos definido sin errores. Ahora ejecutamos el comando <code class="language-plaintext highlighter-rouge">genfstab -U /mnt &gt; /mnt/etc/fstab</code> vamos a generar un archivo que contenga la información relacionada a las particiones del sistema y lo validamos con <code class="language-plaintext highlighter-rouge">cat /mnt/etc/fstab</code>.</p>

<p>Posterior a esto, vamos a cambiar la contraseña del usuario <strong>root</strong> y generar un usuario; por lo tanto, primero ejecutamos <code class="language-plaintext highlighter-rouge">arch-chroot /mnt</code> para ingresar a lo que va a ser nuestro sistema y definimos la contraseña de <strong>root</strong> con <code class="language-plaintext highlighter-rouge">passwd</code>. Ahora creamos el usuario que queramos, para este caso <strong>k4miyo</strong> con <code class="language-plaintext highlighter-rouge">useradd -m k4miyo</code> y también le generamos una contraseña con <code class="language-plaintext highlighter-rouge">passwd k4miyo</code>.</p>

<p>El usuario que hemos creado lo agregamos al grupo <strong>wheel</strong> con <code class="language-plaintext highlighter-rouge">usermod -aG wheel k4miyo</code> y lo validamos con <code class="language-plaintext highlighter-rouge">groups k4miyo</code>. Instalamos los paquetes <strong>sudo</strong>, <strong>vim</strong> y <strong>nano</strong> con <code class="language-plaintext highlighter-rouge">pacman -S sudo vim nano</code>, abrimos el <code class="language-plaintext highlighter-rouge">/etc/sudoers</code> con <strong>nano</strong> o <strong>vim</strong> y buscando por <strong>wheel</strong> descomentamos la linea <code class="language-plaintext highlighter-rouge">%wheel ALL=(ALL:ALL) ALL</code>; guardamos cambios y cerramos. Lo anterior lo hicimos para que cuando del usuario <strong>k4miyo</strong> hacemos un <strong>sudo su</strong>, se nos solicite una contraseña para poder operar como <strong>root</strong>.</p>

<p>Vamos a retocar un poco las regiones con <code class="language-plaintext highlighter-rouge">nano /etc/locale.gen</code> y descomentamos <code class="language-plaintext highlighter-rouge">en_US.UTF-8 UTF-8</code> y <code class="language-plaintext highlighter-rouge">es_XX.UTF-8 UTF-8</code>; en donde XX se refiere a la región donde nos encontremos. Guardamos, salimos y aplicamos un <code class="language-plaintext highlighter-rouge">locale-gen</code>. Para que nos tome siempre nuestro teclado y no andar cambiando, vamos a crear con <strong>nano</strong> el archivo <code class="language-plaintext highlighter-rouge">nano /etc/vconsole.conf</code> y le agregamos <code class="language-plaintext highlighter-rouge">KEYMAP=es</code></p>

<p>Proseguimos con la instalación del <strong>bootloader</strong> con <code class="language-plaintext highlighter-rouge">grub-install /dev/sda</code> y generamos el archivo de configuración con <code class="language-plaintext highlighter-rouge">grub-mkconfig -o /boot/grub/grub.cfg</code>.</p>

<p>Si queremos definir el nombre de nuestro equipo, vamos a ejecutar <code class="language-plaintext highlighter-rouge">echo k4mi4rch &gt; /etc/hostname</code> y ahora retocamos el <code class="language-plaintext highlighter-rouge">/etc/hosts</code> agregando las siguientes linea:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>127.0.0.1 	localhost
::1 		localhost
127.0.0.1 	k4mi4rch.localhost k4mi4rch
</code></pre></div></div>

<p>Y para presumir que tenemos instalado <strong>Arch Linux</strong>, vamos a instalar <code class="language-plaintext highlighter-rouge">neofetch</code> con <code class="language-plaintext highlighter-rouge">pacman -S neofetch</code>; que una vez instalado, al ejecutar el comando <code class="language-plaintext highlighter-rouge">neofetch</code>, nos aparece el logo de <strong>Arch</strong>. Para finalizar, ejecutamos un <code class="language-plaintext highlighter-rouge">exit</code> y <code class="language-plaintext highlighter-rouge">reboot now</code>.</p>

<h2 id="salida-a-internet">Salida a internet</h2>

<p>Ya tenemos nuestro sistema pero sin interfaz gráfica todavía, por lo que nos logueamos como el usuario que definimos y vamos a ver que no tenemos salida a internet; por lo tanto ejecutamos <code class="language-plaintext highlighter-rouge">sudo systemctl start NetworkMaanger.service</code> y <code class="language-plaintext highlighter-rouge">sudo systemctl enable NetworkMaanger.service</code>; con esto ya contamos con salida a internet. También vamos a hacer lo mismo para el servicio <code class="language-plaintext highlighter-rouge">wpa_supplicant</code> con los comandos <code class="language-plaintext highlighter-rouge">sudo systemctl start wpa_supplicant.service</code> y <code class="language-plaintext highlighter-rouge">sudo systemctl enable wpa_supplicant.service</code>.</p>

<h2 id="aur-y-blackarch">AUR y BlackArch</h2>

<p>Para tener más alcance a los recursos que podemos instalar, vamos a agregar <strong>AUR</strong> que es un repositorio de <strong>Arch</strong>; por lo tanto, primero instalamos <code class="language-plaintext highlighter-rouge">git</code> con <code class="language-plaintext highlighter-rouge">sudo pacman -S git</code>. Ahora, como el usuario no privilegiado, nos dirigimos a nuestro directorio asignado y dentro de <code class="language-plaintext highlighter-rouge">Desktop</code> creamos una carpeta llamada <code class="language-plaintext highlighter-rouge">repos</code>, que será en donde tengamos los repositorios que queramos descargar <code class="language-plaintext highlighter-rouge">cd; mkdir -p Desktop/repos; cd !$</code>.</p>

<p>Una vez dentro de dicha carpeta, nos descargamos <code class="language-plaintext highlighter-rouge">paru</code> con <code class="language-plaintext highlighter-rouge">git clone https://aur.archlinux.org/paru-bin.git</code>, nos metemos en el directorio <code class="language-plaintext highlighter-rouge">paru-bin</code> y procedemos a instalarlo con <code class="language-plaintext highlighter-rouge">makepkg -si</code>; si nos pide contraseña, se la proporcionamos y le damos enter.</p>

<p>Ahora vamos a crear el directorio <code class="language-plaintext highlighter-rouge">/home/k4miyo/Desktop/repos/blackarch</code> y nos descargaremos un script en bash <code class="language-plaintext highlighter-rouge">curl -O https://blackarch.org/strap.sh</code>, le damos permisos de ejecución con <code class="language-plaintext highlighter-rouge">chmod +x strap.sh</code> y ejecutamos el script como el usuario <strong>root</strong>. Para validar los repos y/o bases de datos a las que tenemos acceso, lo hacemos con el comando <code class="language-plaintext highlighter-rouge">sudo pacman -Sy</code>. Con esto, podemos instalarnos múltiples paquetes, como por ejemplo <code class="language-plaintext highlighter-rouge">impacket</code> con <code class="language-plaintext highlighter-rouge">sudo pacman -S impacket</code>. Para buscar los paquetes que podemos instalar, lo hacemos con  <code class="language-plaintext highlighter-rouge">sudo pacman -Sgg | grep blackarch</code>.</p>

<h2 id="interfaz-gráfica">Interfaz gráfica</h2>

<p>Para la interfaz gráfica, vamos a instalar <code class="language-plaintext highlighter-rouge">xorg</code> con <code class="language-plaintext highlighter-rouge">sudo pacman -S xorg xorg-server</code>, posteriormente <code class="language-plaintext highlighter-rouge">gnome</code> con <code class="language-plaintext highlighter-rouge">sudo pacman -S gnome</code>. Antes de habilitar y arrancar la interfaz gráfica, vamos a instalar <code class="language-plaintext highlighter-rouge">kitty</code> con <code class="language-plaintext highlighter-rouge">sudo pacman -S kitty</code>. Ahora ejecutamos <code class="language-plaintext highlighter-rouge">sudo systemctl enable gdm.service</code> y <code class="language-plaintext highlighter-rouge">sudo systemctl start gdm.service</code> y con esto ya contamos con una interfaz gráfica; por lo tanto aplicamos un <code class="language-plaintext highlighter-rouge">reboot now</code>.</p>

<p>Una vez que ingresamos a nuestra máquina, vemos que el teclado está en inglés; por lo que si queremos cambiar, lo haremos de manera manuel dentro del sistema y buscando <strong>Keyboard</strong> y agregando nuestro idioma para el teclado. Si presionamos <strong>Ctrl + Alt + F3</strong>, nos abre la consola y con <strong>Ctrl + Alt + F2</strong> regresamos a la interfaz gráfica. En modo consola, instalamos <code class="language-plaintext highlighter-rouge">gtkmm</code> con <code class="language-plaintext highlighter-rouge">sudo pacman -S gtkmm</code> y en caso de que estemos utilizando VMware, instalaremos <code class="language-plaintext highlighter-rouge">sudo pacman -S open-vm-tools xf86-video-vmware xf86-input-vmmouse</code> y habilitamos el demonio con <code class="language-plaintext highlighter-rouge">sudo systemctl enable vmtoolsd</code>. Con esto, ya podemos volver a reiniciar la máquina con <code class="language-plaintext highlighter-rouge">sudo reboot now</code>. Con esto ya tenemos la máquina instalada, ahora nos falta personalizarla, por lo que antes vamos a realizar un <strong>Snapshot</strong> por cualquier cosa que nos llegue a pasar a continuación.</p>

<h2 id="personalización">Personalización</h2>

<h3 id="awesome">Awesome</h3>

<p>Nos abrimos una <strong>kitty</strong> e instalamos firefox con <code class="language-plaintext highlighter-rouge">sudo pacman -S firefox</code> y nos dirigimos al repositorio <a href="https://github.com/rxyhn/dotfiles">Awesome</a>, vamos a la parte de <strong>Setup</strong> e instalamos lo que nos indica como un usuario no privilegiado:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>paru <span class="nt">-S</span> awesome-git picom-git alacritty rofi todo-bin acpi acpid <span class="se">\</span>
wireless_tools jq inotify-tools polkit-gnome xdotool xclip maim <span class="se">\</span>
brightnessctl alsa-utils alsa-tools pulseaudio lm_sensors <span class="se">\</span>
mpd mpc mpdris2 ncmpcpp playerctl <span class="nt">--needed</span>
</code></pre></div></div>

<p>Ahora ejecutamos lo siguiente:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>systemctl <span class="nt">--user</span> <span class="nb">enable </span>mpd.service
systemctl <span class="nt">--user</span> start mpd.service
<span class="nb">sudo </span>systemctl <span class="nb">enable </span>acpid.service
<span class="nb">sudo </span>systemctl start acpid.service
</code></pre></div></div>

<p>Vamos a instalar las fuentes, de acuerdo con al autor del repositorio y vamos a agregar algunas más; por lo que primero nos instalamos <code class="language-plaintext highlighter-rouge">wget</code> con <code class="language-plaintext highlighter-rouge">sudo pacman -S wget</code>, nos dirigimos a <code class="language-plaintext highlighter-rouge">cd /usr/share/fonts</code> y descargamos el un recurso con <code class="language-plaintext highlighter-rouge">sudo wget http://fontlot.com/downfile/5baeb08d06494fc84dbe36210f6f0ad5.105610</code>. Renombramos el archivo <code class="language-plaintext highlighter-rouge">5baeb08d06494fc84dbe36210f6f0ad5.105610</code> por uno más corto como <code class="language-plaintext highlighter-rouge">comprimido.zip</code> con <code class="language-plaintext highlighter-rouge">sudo mv 5baeb08d06494fc84dbe36210f6f0ad5.105610 comprimido.zip</code>, descomprimimos el archivo <code class="language-plaintext highlighter-rouge">sudo unzip comprimido.zip</code>, borramos el comprimido <code class="language-plaintext highlighter-rouge">sudo rm comprimido.zip</code> y ahora vamos a hacer un filtrado de los archivos que nos interesan. (<strong>Nota</strong>: Si quieren pueden descomprimir con 7z instalando el paquete con <code class="language-plaintext highlighter-rouge">sudo pacman -S p7zip</code>)</p>

<p>Dentro de la ruta <code class="language-plaintext highlighter-rouge">/usr/share/fonts</code> ejecutamos lo siguiente:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find <span class="nb">.</span> | <span class="nb">grep</span> <span class="s2">"</span><span class="se">\.</span><span class="s2">ttf$"</span> | <span class="k">while </span><span class="nb">read </span>line<span class="p">;</span> <span class="k">do </span><span class="nb">sudo cp</span> <span class="nv">$line</span> .<span class="p">;</span> <span class="k">done
</span><span class="nb">sudo rm</span> <span class="nt">-r</span> iosevka-2.2.1/
<span class="nb">sudo rm</span> <span class="nt">-r</span> iosevka-slab-2.2.1/
</code></pre></div></div>

<p>Ahora nos descargamos <strong>icomoon.zip</strong> de <a href="https://dropbox.com/s/hrkub2yo9iapljz/icomoon.zip?=0">Dropbox</a> y movemos el contenido en la carpeta en la que nos encontramos <code class="language-plaintext highlighter-rouge">/usr/share/fonts</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo mv</span> /home/k4miyo/Downloads/icomoon.zip <span class="nb">.</span>
<span class="nb">sudo </span>unzip icomoon.zip
<span class="nb">sudo rm </span>icomoon.zip
<span class="nb">sudo mv </span>icomoon/<span class="k">*</span>.ttf <span class="nb">.</span>
<span class="nb">sudo rm</span> <span class="nt">-rf</span> icomoon/
</code></pre></div></div>

<p>Como un usuario no privilegiado instalamos las fuentes que nos hacen falta:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>paru <span class="nt">-S</span> nerd-fonts-jetbrains-mono ttf-font-awesome ttf-font-awesome-4 ttf-material-design-icons
</code></pre></div></div>

<p>De acuerdo con el autor del repositorio, nos descargamos la repo y copiamos los archivos de configuración:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /home/k4miyo/Desktop/repos/
git clone https://github.com/rxyhn/dotfiles.git
<span class="nb">cd </span>dotfiles
<span class="nb">cp</span> <span class="nt">-r</span> config/<span class="k">*</span> ~/.config/
<span class="nb">mkdir</span> ~/.local/bin/
<span class="nb">cp</span> <span class="nt">-r</span> bin/<span class="k">*</span> ~/.local/bin/
<span class="nb">cp</span> <span class="nt">-r</span> misc/. ~/
</code></pre></div></div>

<p>Reiniciamos la máquina con <code class="language-plaintext highlighter-rouge">sudo reboot now</code>. Al iniciar la máquina otra vez, al darle click en nuestro usuario, vemos un engrane en la parte inferior derecha, damos click y seleccionamos <strong>awesome</strong>.</p>

<p><img src="/assets/images/entorno_arch/arch4.png" alt="" /></p>

<p>Nuestro entorno va a estar un poco raro; esto lo arreglamos ingresando a modo consola con <strong>Ctrl + Alt + F3</strong>, nos logueamos, ingresamos a la ruta <code class="language-plaintext highlighter-rouge">cd /Desktop/repos/dotfiles</code> y ejecutamos un <code class="language-plaintext highlighter-rouge">git log</code>; de las opciones que nos aparecen, la quinta nos dice <strong>fix: ui and widgets</strong>.</p>

<p><img src="/assets/images/entorno_arch/arch5.png" alt="" /></p>

<p>Podemos guardar el id asociado <code class="language-plaintext highlighter-rouge">c1e2eef2baa91aebd37324891cb282666beae04f</code>  y ejecutamos</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout c1e2eef2baa91aebd37324891cb282666beae04f
</code></pre></div></div>

<p>O ejecutamos el comando siguiente</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout <span class="si">$(</span>git log | <span class="nb">grep </span>commit | <span class="nb">grep</span> <span class="s2">"c1"</span>| <span class="nb">awk</span> <span class="s1">'NR==3'</span> | <span class="nb">awk</span> <span class="s1">'NF{print $NF}'</span><span class="si">)</span>
</code></pre></div></div>

<p>Volvemos a copiar los binarios y reiniciamos:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cp</span> <span class="nt">-r</span> config/<span class="k">*</span> ~/.config/
<span class="nb">cp</span> <span class="nt">-r</span> bin/<span class="k">*</span> ~/.local/bin/
<span class="nb">cp</span> <span class="nt">-r</span> misc/. ~/
<span class="nb">sudo </span>reboot now
</code></pre></div></div>

<h3 id="idioma-del-teclado">Idioma del teclado</h3>

<p>Si iniciamos sessión, vemos que el teclado se encuentra en inglés y que al hacer <strong>Ctrl + Enter</strong> no se nos abre la terminal, por lo tanto, hacemos otra vez <strong>Ctrl + Alt + F3</strong>; nos logueamos en modo consola y editamos el archivo <code class="language-plaintext highlighter-rouge">nano .config/awesome/rc.lua</code> y en la parte donde nos dice <code class="language-plaintext highlighter-rouge">terminal</code> le asignamos el valor de <code class="language-plaintext highlighter-rouge">kitty</code>. Ahora, hacemos <strong>Ctrl + Alt + F2</strong> y en pantalla completa, debemos hacer un <strong>Ctrl + Windows + R</strong> para aplicar los cambios y ahora si hacemos <strong>Ctrl + Enter</strong> ya se nos despliega la terminal.</p>

<p>Para cambiar el idioma del teclado, ejecutamos <code class="language-plaintext highlighter-rouge">localectl set-x11-keymap es</code> y al hacer <strong>Ctrl + Windows + Q</strong>, nos deslogueamos y al iniciar sesión, ya tenemos el idioma español</p>

<h3 id="instalación-zsh">Instalación ZSH</h3>

<p>Instalamos la <code class="language-plaintext highlighter-rouge">zsh</code> y le cambiamos a nuestro usuario y a <strong>root</strong> la <code class="language-plaintext highlighter-rouge">bash</code> por la <code class="language-plaintext highlighter-rouge">zsh</code>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>pacman <span class="nt">-S</span> zsh
<span class="nb">sudo </span>usermod <span class="nt">--shell</span> /usr/bin/zsh k4miyo
<span class="nb">sudo </span>usermod <span class="nt">--shell</span> /usr/bin/zsh root
</code></pre></div></div>

<p>Ahora nos dirigimos a <a href="https://s4vitar.github.io/bspwm-configuration-files/">bspwm-configuration-files</a>, borramos el archivo <code class="language-plaintext highlighter-rouge">.zshrc</code> y copiamos todo lo que se encuentra en el archivo <code class="language-plaintext highlighter-rouge">zshrc</code> de la págna para generar uno nuevo. Si abrimos una nueva terminal, vemos que nos aparecen unos errores de archivos que no se encuetran en el sistema, por lo tanto los instalmos:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>paru <span class="nt">-S</span> zsh-syntax-highlighting zsh-autosuggestions
</code></pre></div></div>

<p>Descargamos el archivo <code class="language-plaintext highlighter-rouge">sudo.plugin.zsh</code> en la ruta <code class="language-plaintext highlighter-rouge">/usr/share/zsh/plugins/zsh-sudo/</code>. En caso de no existir los directorios, los creamos:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /usr/share/zsh/plugins/
<span class="nb">sudo mkdir </span>zsh-sudo
<span class="nb">chown </span>k4miyo:k4miyo zsh-sudo/
<span class="nb">cd</span> <span class="o">!</span><span class="err">$</span>
wget https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/plugins/sudo/sudo.plugin.zsh
</code></pre></div></div>

<p>Y cambiamos la ruta de los archivos dentro de la <code class="language-plaintext highlighter-rouge">.zshrc</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...
<span class="c"># Plugins</span>
<span class="nb">source</span> /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
<span class="nb">source</span> /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh
<span class="nb">source</span> /usr/share/zsh/plugins/zsh-sudo/sudo.plugin.zsh
...
</code></pre></div></div>

<h3 id="instalación-de-locate-lsd-bat-y-scrub">Instalación de locate, lsd, bat y scrub</h3>

<p>Ahora instalamos <code class="language-plaintext highlighter-rouge">locate</code>,<code class="language-plaintext highlighter-rouge">lsd</code> y <code class="language-plaintext highlighter-rouge">bat</code> con <code class="language-plaintext highlighter-rouge">sudo pacman -S locate lsd bat</code>; así como <code class="language-plaintext highlighter-rouge">scrub</code> con <code class="language-plaintext highlighter-rouge">paru -S scrub</code>. Para que el usuario <strong>root</strong> tenga la misma presentación, vamos a crear un link simbólico de nuestra <code class="language-plaintext highlighter-rouge">.zshrc</code> con <code class="language-plaintext highlighter-rouge">sudo ln -s -f /home/k4miyo/.zshrc /root/.zshrc</code>.</p>

<h3 id="nerd-fonts">Nerd Fonts</h3>

<p>Cambiaremos la fuente de nuestra termina descargando <a href="https://github.com/ryanoasis/nerd-fonts/releases/download/v2.1.0/Hack.zip">Hack.zip</a> y su contenido lo colocamos en <code class="language-plaintext highlighter-rouge">/usr/share/fonts</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /usr/share/fonts
<span class="nb">sudo mv</span> /home/k4miyo/Downloads/Hack.zip <span class="nb">.</span>
<span class="nb">sudo </span>unzip Hack.zip
<span class="nb">sudo rm </span>Hack.zip
</code></pre></div></div>

<h3 id="configuración-kitty">Configuración kitty</h3>

<p>Vamos a retocar un poco la <code class="language-plaintext highlighter-rouge">kitty</code>, por lo que vamos descargarnos el archivo <code class="language-plaintext highlighter-rouge">kitty.conf</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/.config/kitty/
wget https://raw.githubusercontent.com/rxyhn/bspdots/main/config/kitty/kitty.conf
wget https://raw.githubusercontent.com/rxyhn/bspdots/main/config/kitty/color.ini
</code></pre></div></div>

<p>Y ahora vamos a retocar el archivo <code class="language-plaintext highlighter-rouge">kitty.conf</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>enable_audio_bell no

include color.ini

font_family		HackNerdFonts
font_size 12

url_color	<span class="c">#61afef</span>

url_style	curly

map ctrl+left neighboring_window left
map ctrl+right neighboring_window right
map ctrl+up neighboring_window up
map ctrl+down neighboring_window down

map f1 copy_to_buffer a
map f2 paste_from_buffer a
map f3 copy_to_buffer b
map f4 paste_from_buffer b

cursor_shape beam
cursor_beam_thickness 1.8

mouse_hide_wait 3.0
detect_urls <span class="nb">yes

</span>repaint_delay 10
input_delay 3
sync_to_monitor <span class="nb">yes

</span>map ctrl+shift+z toggle_layout stack
tab_bar_style powerline

inactive_tab_background <span class="c">#e06c75</span>
active_tab_background <span class="c">#98c379</span>
inactive_tab_foreground <span class="c">#000000</span>
tab_bar_margin_color black

map ctrl+shift+enter new_window_with_cwd
map ctrl+shift+t new_window_with_cwd

brackground_opacity 0.95

shell zsh
</code></pre></div></div>

<p>Con esta configuración, podemos hacer lo siguiente:</p>
<ul>
  <li><strong>Ctrl + Shift + Enter</strong> - Abrir terminal secundaria</li>
  <li><strong>Ctrl + Shift + w</strong> - Cerrar terminal secundaria</li>
  <li><strong>Ctrl + Shift + r</strong> - Resize</li>
  <li><strong>Ctrl + Shift + l</strong> - Acomodar ventanas</li>
  <li><strong>Ctrl + Shift + Alt + t</strong> - Nombre de ventana</li>
  <li><strong>Ctrl + Shift + t</strong> - Crear más ventanas</li>
</ul>

<h3 id="configuración-awesome">Configuración Awesome</h3>

<p>Ahora retocremos el archivo <code class="language-plaintext highlighter-rouge">~/.config/awesome/ui/decorations/init.lua</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/.config/awesome/ui/decorations
nano init.lua
</code></pre></div></div>

<p>Y comentaremos las últimas dos lineas con <code class="language-plaintext highlighter-rouge">--</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--</span> require<span class="o">(</span><span class="s2">"ui.decorations.titlebar"</span><span class="o">)</span>
<span class="nt">--</span> require<span class="o">(</span><span class="s2">"ui.decorations.music"</span><span class="o">)</span>
</code></pre></div></div>

<p>Para la transparencia de la terminal, vamos a borrar el archivo <code class="language-plaintext highlighter-rouge">~/.config/awesome/theme/picom.conf</code> y vamos a sustituirlo por lo que se encuentra en el siguiente repositorio:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/.config/awesome/theme/
<span class="nb">rm </span>picom.conf
wget https://raw.githubusercontent.com/rxyhn/bspdots/main/config/picom/picom.conf
</code></pre></div></div>

<p>Ahora vammos a realizar unas modificaciones, por lo que nos abrimos el archivo y cambiamos lo siguiente:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">##############################################################################</span>
<span class="c">#                                  CORNERS                                   #</span>
<span class="c">##############################################################################</span>
<span class="c"># requires: https://github.com/sdhand/compton</span>
corner-radius <span class="o">=</span> 20<span class="p">;</span>
rounded-corners-exclude <span class="o">=</span> <span class="o">[</span>
  <span class="c">#"window_type = 'normal'",</span>
  <span class="c">#"class_g = 'firefox'",</span>
<span class="o">]</span><span class="p">;</span>

round-borders <span class="o">=</span> 20<span class="p">;</span>
round-borders-exclude <span class="o">=</span> <span class="o">[</span>
  <span class="c">#"class_g = 'TelegramDesktop'",</span>
<span class="o">]</span><span class="p">;</span>

...

<span class="c"># Enable/disable VSync.</span>
<span class="c"># vsync = false</span>
vsync <span class="o">=</span> <span class="nb">false</span>

...

<span class="c"># Default opacity for dropdown menus and popup menus. (0.0 - 1.0, defaults to 1.0)</span>
<span class="c"># menu-opacity = 1.0</span>
opacity <span class="o">=</span> 1.0

...

<span class="c">##############################################################################</span>
<span class="c">#                                    BLUR                                    #</span>
<span class="c">##############################################################################</span>

<span class="c"># Parameters for background blurring, see the *BLUR* section for more information.</span>
<span class="c"># blur-method = "gaussian"</span>
<span class="c"># blur-size = 14</span>
<span class="c"># blur-strength = 10</span>

<span class="c"># Blur background of semi-transparent / ARGB windows.</span>
<span class="c"># Bad in performance, with driver-dependent behavior.</span>
<span class="c"># The name of the switch may change without prior notifications.</span>
<span class="c">#</span>
<span class="c"># blur-background = false</span>

<span class="c"># Blur background of windows when the window frame is not opaque.</span>
<span class="c"># Implies:</span>
<span class="c">#    blur-background</span>
<span class="c"># Bad in performance, with driver-dependent behavior. The name may change.</span>
<span class="c">#</span>
<span class="c"># blur-background-frame = false</span>

<span class="c"># Use fixed blur strength rather than adjusting according to window opacity.</span>
<span class="c"># blur-background-fixed = false</span>

<span class="c"># Specify the blur convolution kernel, with the following format:</span>
<span class="c"># example:</span>
<span class="c">#   blur-kern = "5,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1";</span>
<span class="c">#</span>
<span class="c"># blur-kern = ''</span>
<span class="c"># blur-kern = "3x3box";</span>

<span class="c"># Exclude conditions for background blur.</span>
<span class="c"># blur-background-exclude = []</span>
<span class="c"># blur-background-exclude = [</span>
<span class="c">#     "! name~=''",</span>
<span class="c">#     "name *= 'slop'",</span>
<span class="c">#     "window_type = 'dock'",</span>
<span class="c">#     "window_type = 'desktop'",</span>
<span class="c">#     "_GTK_FRAME_EXTENTS@:c"</span>
<span class="c"># ];</span>

...

<span class="c"># Disable the use of damage information.</span>
<span class="c"># This cause the whole screen to be redrawn everytime, instead of the part of the screen</span>
<span class="c"># has actually changed. Potentially degrades the performance, but might fix some artifacts.</span>
<span class="c"># The opposing option is use-damage</span>
<span class="c"># </span>
<span class="c"># no-use-damage = false</span>
use-damage <span class="o">=</span> <span class="nb">false</span>

...

<span class="c"># Specify refresh rate of the screen. If not specified or 0, picom will</span>
<span class="c"># try detecting this with X RandR extension.</span>
<span class="c"># </span>
<span class="c"># refresh-rate = 60</span>
<span class="c"># refresh-rate = 0</span>

...
<span class="c"># Specify the backend to use: `xrender`, `glx`, or `xr_glx_hybrid`. </span>
<span class="c"># `xrender` is the default one.</span>
<span class="c">#</span>
<span class="c"># backend = 'glx'</span>
backend <span class="o">=</span> <span class="s2">"xrender"</span>
</code></pre></div></div>

<h3 id="fondo-de-pantalla">Fondo de pantalla</h3>

<p>Para modificar el fondo de pantalla, primero nos descargamos la imagen que queramos para el fondo y agregamos la siguiente linea en el archivo <code class="language-plaintext highlighter-rouge">~/.config/awesome/rc.lua</code>. Adicional, nos descargaremos <code class="language-plaintext highlighter-rouge">feh</code> con el comando <code class="language-plaintext highlighter-rouge">paru -S feh</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--</span> Wallpaper
<span class="nb">local </span><span class="nv">wallpaper_cmd</span><span class="o">=</span><span class="s2">"feh --bg-fill /home/k4miyo/Desktop/k4miyo/images/Wallpaper.jpg"</span>
os.execute<span class="o">(</span>wallpaper_cmd<span class="o">)</span>
</code></pre></div></div>

<h3 id="powerlevel10k">PowerLevel10k</h3>

<p>Ya toma instalarse la <strong>powerlevel10k</strong>; por lo tanto nos dirigimos al repositorio <a href="https://github.com/romkatv/powerlevel10k">powerlevel10k</a> y seguimos las intrucciónes de instalación; tanto para el usuario normal y <strong>root</strong>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd
</span>git clone <span class="nt">--depth</span><span class="o">=</span>1 https://github.com/romkatv/powerlevel10k.git ~/powerlevel10k
<span class="nb">echo</span> <span class="s1">'source ~/powerlevel10k/powerlevel10k.zsh-theme'</span> <span class="o">&gt;&gt;</span>~/.zshrc
zsh
</code></pre></div></div>

<p>Para el usuario no privilegiado, modificaremos parte de la configuración de la <strong>powerlevel10k</strong> en el archivo <code class="language-plaintext highlighter-rouge">~/.p10k.zsh</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># The list of segments shown on the left. Fill it with the most important segments.</span>
  <span class="nb">typeset</span> <span class="nt">-g</span> <span class="nv">POWERLEVEL9K_LEFT_PROMPT_ELEMENTS</span><span class="o">=(</span>
    os_icon                 <span class="c"># os identifier</span>
    <span class="nb">dir</span>                     <span class="c"># current directory</span>
    vcs                     <span class="c"># git status</span>
    command_execution_time 
    context
    <span class="c"># prompt_char           # prompt symbol</span>
  <span class="o">)</span>

<span class="c"># The list of segments shown on the right. Fill it with less important segments.</span>
  <span class="c"># Right prompt on the last prompt line (where you are typing your commands) gets</span>
  <span class="c"># automatically hidden when the input line reaches it. Right prompt above the</span>
  <span class="c"># last prompt line gets hidden if it would overlap with left prompt.</span>
  <span class="nb">typeset</span> <span class="nt">-g</span> <span class="nv">POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS</span><span class="o">=(</span>
    <span class="c"># status                  # exit code of the last command</span>
    <span class="c"># command_execution_time  # duration of the last command</span>
    <span class="c"># background_jobs         # presence of background jobs</span>
    <span class="c"># direnv                  # direnv status (https://direnv.net/)</span>
    <span class="c"># asdf                    # asdf version manager (https://github.com/asdf-vm/asdf)</span>
    <span class="c"># virtualenv              # python virtual environment (https://docs.python.org/3/library/venv.html)</span>
    <span class="c"># anaconda                # conda environment (https://conda.io/)</span>
    <span class="c"># pyenv                   # python environment (https://github.com/pyenv/pyenv)</span>
    <span class="c"># goenv                   # go environment (https://github.com/syndbg/goenv)</span>
    <span class="c"># nodenv                  # node.js version from nodenv (https://github.com/nodenv/nodenv)</span>
    <span class="c"># nvm                     # node.js version from nvm (https://github.com/nvm-sh/nvm)</span>
    <span class="c"># nodeenv                 # node.js environment (https://github.com/ekalinin/nodeenv)</span>
    <span class="c"># node_version          # node.js version</span>
    <span class="c"># go_version            # go version (https://golang.org)</span>
    <span class="c"># rust_version          # rustc version (https://www.rust-lang.org)</span>
    <span class="c"># dotnet_version        # .NET version (https://dotnet.microsoft.com)</span>
    <span class="c"># php_version           # php version (https://www.php.net/)</span>
    <span class="c"># laravel_version       # laravel php framework version (https://laravel.com/)</span>
    <span class="c"># java_version          # java version (https://www.java.com/)</span>
    <span class="c"># package               # name@version from package.json (https://docs.npmjs.com/files/package.json)</span>
    <span class="c"># rbenv                   # ruby version from rbenv (https://github.com/rbenv/rbenv)</span>
    <span class="c"># rvm                     # ruby version from rvm (https://rvm.io)</span>
    <span class="c"># fvm                     # flutter version management (https://github.com/leoafarias/fvm)</span>
    <span class="c"># luaenv                  # lua version from luaenv (https://github.com/cehoffman/luaenv)</span>
    <span class="c"># jenv                    # java version from jenv (https://github.com/jenv/jenv)</span>
    <span class="c"># plenv                   # perl version from plenv (https://github.com/tokuhirom/plenv)</span>
    <span class="c"># perlbrew                # perl version from perlbrew (https://github.com/gugod/App-perlbrew)</span>
    <span class="c"># phpenv                  # php version from phpenv (https://github.com/phpenv/phpenv)</span>
    <span class="c"># scalaenv                # scala version from scalaenv (https://github.com/scalaenv/scalaenv)</span>
    <span class="c"># haskell_stack           # haskell version from stack (https://haskellstack.org/)</span>
    <span class="c"># kubecontext             # current kubernetes context (https://kubernetes.io/)</span>
    <span class="c"># terraform               # terraform workspace (https://www.terraform.io)</span>
    <span class="c"># terraform_version     # terraform version (https://www.terraform.io)</span>
    <span class="c"># aws                     # aws profile (https://docs.aws.amazon.com/cli/latest/userguide/cli-configu&gt;</span>
    <span class="c"># aws_eb_env              # aws elastic beanstalk environment (https://aws.amazon.com/elasticbeanstal&gt;</span>
    <span class="c"># azure                   # azure account name (https://docs.microsoft.com/en-us/cli/azure)</span>
    <span class="c"># gcloud                  # google cloud cli account and project (https://cloud.google.com/)</span>
    <span class="c"># google_app_cred         # google application credentials (https://cloud.google.com/docs/authenticat&gt;</span>
    <span class="c"># toolbox                 # toolbox name (https://github.com/containers/toolbox)</span>
    <span class="c"># context                 # user@hostname</span>
    <span class="c"># nordvpn                 # nordvpn connection status, linux only (https://nordvpn.com/)</span>
    <span class="c"># ranger                  # ranger shell (https://github.com/ranger/ranger)</span>
    <span class="c"># nnn                     # nnn shell (https://github.com/jarun/nnn)</span>
    <span class="c"># xplr                    # xplr shell (https://github.com/sayanarijit/xplr)</span>
    <span class="c"># vim_shell               # vim shell indicator (:sh)</span>
    <span class="c"># midnight_commander      # midnight commander shell (https://midnight-commander.org/)</span>
    <span class="c"># nix_shell               # nix shell (https://nixos.org/nixos/nix-pills/developing-with-nix-shell.ht&gt;</span>
    <span class="c"># vi_mode                 # vi mode (you don't need this if you've enabled prompt_char)</span>
    <span class="c"># vpn_ip                # virtual private network indicator</span>
    <span class="c"># load                  # CPU load</span>
    <span class="c"># disk_usage            # disk usage</span>
    <span class="c"># ram                   # free RAM</span>
    <span class="c"># swap                  # used swap</span>
    <span class="c"># todo                    # todo items (https://github.com/todotxt/todo.txt-cli)</span>
    <span class="c"># timewarrior             # timewarrior tracking status (https://timewarrior.net/)</span>
    <span class="c"># taskwarrior             # taskwarrior task count (https://taskwarrior.org/)</span>
    <span class="c"># time                  # current time</span>
    <span class="c"># ip                    # ip address and bandwidth usage for a specified network interface</span>
    <span class="c"># public_ip             # public IP address</span>
    <span class="c"># proxy                 # system-wide http/https/ftp proxy</span>
    <span class="c"># battery               # internal battery</span>
    <span class="c"># wifi                  # wifi speed</span>
    <span class="c"># example               # example user-defined segment (see prompt_example function below)</span>
  <span class="o">)</span>
</code></pre></div></div>

<p>Para el usuario <strong>root</strong> modificaremos lo mismo que el usuario no privilegiado, y también modificaremos lo siguiente:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Context format when running with privileges: bold user@hostname.</span>
  <span class="nb">typeset</span> <span class="nt">-g</span> <span class="nv">POWERLEVEL9K_CONTEXT_ROOT_TEMPLATE</span><span class="o">=</span><span class="s1">' ^~^`'</span>
  <span class="c"># Context format when in SSH without privileges: user@hostname.</span>
  <span class="nb">typeset</span> <span class="nt">-g</span> POWERLEVEL9K_CONTEXT_<span class="o">{</span>REMOTE,REMOTE_SUDO<span class="o">}</span><span class="nv">_TEMPLATE</span><span class="o">=</span><span class="s1">'%n@%m'</span>
  <span class="c"># Default context format (no privileges, no SSH): user@hostname.</span>
  <span class="nb">typeset</span> <span class="nt">-g</span> <span class="nv">POWERLEVEL9K_CONTEXT_TEMPLATE</span><span class="o">=</span><span class="s1">'%n@%m'</span>
</code></pre></div></div>

<p>En caso de que cuando migremos al usuario <strong>root</strong> nos aparezca la configuración de la <strong>powerlevel10k</strong>, cancelamos dicha configuración, si tenemos la carpeta <code class="language-plaintext highlighter-rouge">powerlevel10k</code> en el directorio <code class="language-plaintext highlighter-rouge">/root</code> la borramos y ejecutamos los comandos siguientes:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone <span class="nt">--depth</span><span class="o">=</span>1 https://github.com/romkatv/powerlevel10k.git ~/powerlevel10k
p10k configure
</code></pre></div></div>

<h3 id="instalación-fzf">Instalación FZF</h3>

<p>Ahora instalaremos la <code class="language-plaintext highlighter-rouge">fzf</code> de acuerdo a lo que nos indica el repositorio <a href="https://github.com/junegunn/fzf">fzf</a>; tanto para el usuario no privilegiado como <strong>root</strong>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd
</span>git clone <span class="nt">--depth</span> 1 https://github.com/junegunn/fzf.git ~/.fzf
~/.fzf/install
</code></pre></div></div>

<h3 id="neovim">NeoVim</h3>

<p>Para instalar <code class="language-plaintext highlighter-rouge">neovim</code>, ejecutaremos lo siguiente:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>pacman <span class="nt">-S</span> neovim
</code></pre></div></div>

<p>Y ahora lo complementaremos <strong>NvChad</strong> del repositorio <a href="https://github.com/NvChad/NvChad">NvChad</a>. Para instalarlo, los dirigiremos al recurso <a href="https://nvchad.github.io/getting-started/setup">nvchad.github.io</a> y seguiremos los pasos que nos indican como un usuario no privilegiado:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd
</span>git clone https://github.com/NvChad/NvChad ~/.config/nvim <span class="nt">--depth</span> 1
nvim +<span class="s1">'hi NormalFloat guibg=#1e222a'</span> +PackerSync
</code></pre></div></div>

<p>Para abrir cualquier archivo utilizaremos <code class="language-plaintext highlighter-rouge">nvim</code> y para que nos muestre archivos que forma bonita, utilizaremos el comando <code class="language-plaintext highlighter-rouge">NvimTreeToggle</code>:</p>

<p><img src="/assets/images/entorno_arch/arch6.png" alt="" /></p>

<p>Recordar que tenemos que hace lo mismo para el usuario <strong>root</strong>:</p>

<h3 id="icono-awesome">Icono Awesome</h3>

<p>Si queremos cambiar el icono de <strong>Awesome</strong> en la barra lateral izquierda, nos dirigimos a <code class="language-plaintext highlighter-rouge">~/.config/awesome/theme/assets/icons</code> y cambiamos el archivo <code class="language-plaintext highlighter-rouge">awesome.png</code> por uno que nosotros queramos. Lo podemos visualizar con el comando <code class="language-plaintext highlighter-rouge">kitty +kitten icat awesome.png</code>.</p>

<h3 id="shortcuts">ShortCuts</h3>

<p>Para agregar shortcuts y poder personalizar las aplicaciones que abramos, vamos a retocar algunos archivos de configuración de <strong>Awesome</strong>. Vamos a empezar primero con modificar las teclas para Firefox; por lo que nos abrimos el archivo <code class="language-plaintext highlighter-rouge">~/.config/awesome/configuration/keys.lua</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>		awful.key<span class="o">({</span>modkey,<span class="s2">"Shift"</span><span class="o">}</span>, <span class="s2">"f"</span>, <span class="k">function</span><span class="o">()</span>
            awful.spawn.with_shell<span class="o">(</span>browser<span class="o">)</span>
        end,
        <span class="o">{</span>description <span class="o">=</span> <span class="s2">"open web browser"</span>, group <span class="o">=</span> <span class="s2">"launcher"</span><span class="o">})</span>,
</code></pre></div></div>

<p>Ahora nos descargamos el BurpSuite con <code class="language-plaintext highlighter-rouge">sudo pacman -S burpsuite</code> y vamos a asignarle una combinación de teclas para poder abrirlo. Por lo que primero creamos la variable en el archivo <code class="language-plaintext highlighter-rouge">~/.config/awesome/rc.lua</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--</span> Defalt Applications
terminal <span class="o">=</span> <span class="s2">"kitty"</span>
...
browser <span class="o">=</span> <span class="s2">"firefox"</span>
proxy_burp <span class="o">=</span> <span class="s2">"burpsuite"</span> <span class="nt">--La</span> linea que agregamos para burpsuite
</code></pre></div></div>

<p>Ahora agregamos la ejecución en el archivo <code class="language-plaintext highlighter-rouge">~/.config/awesome/configuration/keys.lua</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>		awful.key<span class="o">({</span>modkey,<span class="s2">"Shift"</span><span class="o">}</span>, <span class="s2">"b"</span>, <span class="k">function</span><span class="o">()</span>
            awful.spawn.with_shell<span class="o">(</span>proxy_burp<span class="o">)</span>
        end,
        <span class="o">{</span>description <span class="o">=</span> <span class="s2">"open burpsuite"</span>, group <span class="o">=</span> <span class="s2">"launcher"</span><span class="o">})</span>,
</code></pre></div></div>

<p>Si aplicamos los cambios de la configuración con <strong>Ctrl + Windows + r</strong>, vemos que podemos hacer <strong>Windows + Shift + b</strong> para abrir el BurpSuite. Cualquier otro programa que necesitemos un shortcut, podemos configurarlo de esta manera.</p>

<h3 id="instalación-de-herramienta-de-pentesting">Instalación de herramienta de pentesting</h3>

<p>Vamos a instalarnos algunas herramientas que nos puedan ayudar para realizar pentesting:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>pacman <span class="nt">-S</span> evil-winrm python-pip impacket responder nmap whatweb wfuzz gobuster
<span class="nb">sudo </span>pacman <span class="nt">-S</span> metasploit
</code></pre></div></div>

<h3 id="detalles-de-teclas">Detalles de teclas</h3>

<p>Tenemos una teclas que no nos funcionan como el <strong>HOME</strong>, <strong>END</strong> y <strong>DEL</strong>; por lo tanto, abrimos el archivo <code class="language-plaintext highlighter-rouge">~/.zshrc</code> como un usuario no privilegiado y agregamos lo siguiente:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bindkey <span class="s2">"^[[H"</span> beginning-of-line
bindkey <span class="s2">"^[[F"</span> end-of-line
bindkey <span class="s2">"^[[3~"</span> delete-char
bindkey <span class="s2">"^[[1;3C"</span> forward-word 
bindkey <span class="s2">"^[[1;3D"</span> backward-word
</code></pre></div></div>

<h3 id="instalación-de-mdcat">Instalación de mdcat</h3>

<p>Utilizando el comando <code class="language-plaintext highlighter-rouge">sudo pacman -S mdcat</code> para que veamos de forma presentable los archivos de extensión <code class="language-plaintext highlighter-rouge">md</code>.</p>

<h3 id="copypaste-vmware">Copy/Paste VMware</h3>

<p>En caso de que necesitemos la funcionalidad de <strong>Copy and Paste</strong> sobre WMware, necesitamos agregar las siguientes lineas en el archivo <code class="language-plaintext highlighter-rouge">~/.config/awesome/rc.lua</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--</span> VMware
awful.util.spawn_with_shell<span class="o">(</span><span class="s2">"vmware-user-suid-wrapper --no--startup-id"</span><span class="o">)</span>
</code></pre></div></div>


        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#archlinux" class="page__taxonomy-item" rel="tag">ArchLinux</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#aur" class="page__taxonomy-item" rel="tag">AUR</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#awesomewm" class="page__taxonomy-item" rel="tag">AwesomeWM</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#bat" class="page__taxonomy-item" rel="tag">bat</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#blackarch" class="page__taxonomy-item" rel="tag">BlackArch</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#configuration" class="page__taxonomy-item" rel="tag">Configuration</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#copy-paste-vmware" class="page__taxonomy-item" rel="tag">Copy/Paste_VMware</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#kitty" class="page__taxonomy-item" rel="tag">Kitty</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#locate" class="page__taxonomy-item" rel="tag">locate</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#lsd" class="page__taxonomy-item" rel="tag">lsd</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#neovim" class="page__taxonomy-item" rel="tag">NeoVim</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#nerdfonts" class="page__taxonomy-item" rel="tag">NerdFonts</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#scrub" class="page__taxonomy-item" rel="tag">scrub</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#zsh" class="page__taxonomy-item" rel="tag">ZSH</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#archlinux" class="page__taxonomy-item" rel="tag">ArchLinux</a><span class="sep">, </span>
    
      
      
      <a href="/categories/#configuration" class="page__taxonomy-item" rel="tag">Configuration</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Fecha:</strong> <time datetime="2022-04-11T00:00:00-05:00">April 11, 2022</time></p>
        
      </footer>

      

      
  <nav class="pagination">
    
      <a href="/vh-brainpan1/" class="pagination--pager" title="VulnHub BrainPan 1
">Previous</a>
    
    
      <a href="#" class="pagination--pager disabled">Next</a>
    
  </nav>

    </div>

    
  </article>

  
</div>

    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 K4miyo</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script data-search-pseudo-elements defer src="https://use.fontawesome.com/releases/v5.7.1/js/all.js" integrity="sha384-eVEQC9zshBn0rFj4+TU78eNA19HMNigMviK/PU/FFjLXqa/GKPgX58rvt5Z8PLs7" crossorigin="anonymous"></script>








  </body>
</html>
